{"version":3,"file":"static/js/733.0cf1eab4.chunk.js","mappings":"6NACA,EAA2B,gCAA3B,EAAsE,gCAAtE,EAAiH,gCAAjH,EAA0J,8BAA1J,EAAoM,iCAApM,EAA6R,oC,2BCM9Q,SAASA,IACtB,OAAgCC,EAAAA,EAAAA,UAAS,MAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAwBJ,EAAAA,EAAAA,UAAS,GAAjC,eAAOK,EAAP,KAAaC,EAAb,KACA,GAAyCN,EAAAA,EAAAA,WAAS,GAAlD,eAAOO,EAAP,KAAqBC,EAArB,KACA,GAA0BR,EAAAA,EAAAA,UAAS,MAAnC,eAAOS,EAAP,KAAcC,EAAd,KACA,GAAqCV,EAAAA,EAAAA,WAAS,GAA9C,eAAOW,EAAP,KAAmBC,EAAnB,KACA,GAA4BZ,EAAAA,EAAAA,UAAS,aAArC,eAAOa,EAAP,KAAeC,EAAf,MAEAC,EAAAA,EAAAA,YAAU,YACR,iBAAC,2FACCD,EAAU,WADX,SAEmBE,EAAAA,KAFnB,QAEOC,EAFP,SAGQf,EAAYe,GACnBA,GAAOH,EAAU,aAJlB,0CAAD,EAMD,GAAE,KAEHC,EAAAA,EAAAA,YAAU,YACR,iBAAC,2FACCD,EAAU,WADX,SAEmBE,EAAAA,KAFnB,QAEOC,EAFP,SAGQf,EAAYe,GACnBA,GAAOH,EAAU,aAJlB,0CAAD,EAMD,GAAE,CAACH,KAEJI,EAAAA,EAAAA,YAAU,WACK,IAATV,IACF,iBAAC,6GAE0BW,EAAAA,GAAiBX,GAF3C,QAESa,EAFT,SAIKhB,GAAY,SAAAiB,GACV,MAAM,GAAN,eAAWA,IAAX,OAAoBD,GACrB,IACHA,GAAYA,EAASE,OAAS,GAAKZ,GAAiB,GAPvD,wGAAD,EAWH,GAAE,CAACH,IAEJ,IAAMgB,EAAY,SAAAC,GAChBlB,GAAa,GACbM,EAASY,EACV,EAED,OACE,iCACE,gBAAKC,UAAWC,EAAhB,UACE,eAAID,UAAWC,EAAf,yBAEU,cAAXX,GACC,eAAIU,UAAWC,EAAf,SACGvB,GACCA,EAASwB,KAAI,SAAAC,GAAO,OAClB,SAACC,EAAA,EAAD,CACEC,OAAQF,EAERL,UAAWA,EACXQ,UAAW,kBAAMjB,GAAe,SAAAO,GAAI,OAAKA,CAAL,GAAzB,GAFNO,EAAQJ,GAHG,OAUxB,gBAAKC,UAAWC,EAAhB,UACE,gBAAID,UAAWC,EAAf,WACE,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,uBAILvB,GAAgC,IAApBA,EAASmB,SACpB,gBAAKG,UAAWC,EAAhB,UACE,cAAGD,UAAWC,EAAd,iDAGHrB,IACC,SAAC2B,EAAA,EAAD,CAAOC,QAAS,kBAAM3B,GAAa,SAAAe,GAAI,OAAKA,CAAL,GAAvB,EAAmCa,OAAQ7B,EAA3D,UACE,SAAC8B,EAAA,EAAD,CACEX,GAAIb,EACJyB,WAAY,kBAAM9B,GAAa,SAAAe,GAAI,OAAKA,CAAL,GAAvB,MAIjBZ,IAAwB,OAARN,QAAQ,IAARA,OAAA,EAAAA,EAAUmB,QAAS,IAClC,gBAAKG,UAAWC,EAAhB,UACE,mBACED,UAAU,mBACVY,QAAS,kBAAM7B,GAAQ,SAAAa,GAAI,OAAIA,EAAO,CAAX,GAAlB,EAFX,2BAUT,C","sources":["webpack://advert/./src/pages/FavoritesPage/FavoritesPage.module.css?ff2b","pages/FavoritesPage/FavoritesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cardList\":\"FavoritesPage_cardList__FmDtd\",\"divTitle\":\"FavoritesPage_divTitle__E2arw\",\"favTitle\":\"FavoritesPage_favTitle__L9t78\",\"margin\":\"FavoritesPage_margin__AM4MF\",\"container\":\"FavoritesPage_container__zEnNG\",\"shimmer\":\"FavoritesPage_shimmer__pwRXp\",\"btnContainer\":\"FavoritesPage_btnContainer__77Mxm\"};","import { useState, useEffect } from 'react';\nimport AdvertCard from 'components/AdvertCard/AdvertCard';\nimport * as API from '../../services/carsApi';\nimport css from './FavoritesPage.module.css';\nimport Modal from 'components/Modal/Modal';\nimport ModalCard from 'components/Modal/ModalCard/ModalCard';\n\nexport default function FavoritesPage() {\n  const [favCards, setFavCards] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [page, setPage] = useState(1);\n  const [showLoadMore, setShowLoadrMore] = useState(true);\n  const [carId, setCarId] = useState(null);\n  const [likeChangd, setLikeChanged] = useState(true);\n  const [status, setStatus] = useState('fullfield');\n\n  useEffect(() => {\n    (async () => {\n      setStatus('pending');\n      const res = await API.getFavotites();\n      res && setFavCards(res);\n      res && setStatus('fullfield');\n    })();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      setStatus('pending');\n      const res = await API.getFavotites();\n      res && setFavCards(res);\n      res && setStatus('fullfield');\n    })();\n  }, [likeChangd]);\n\n  useEffect(() => {\n    if (page !== 1) {\n      (async () => {\n        try {\n          const response = await API.getFavotites(page);\n          response &&\n            setFavCards(prev => {\n              return [...prev, ...response];\n            });\n          response && response.length < 8 && setShowLoadrMore(false);\n        } catch (e) {}\n      })();\n    }\n  }, [page]);\n\n  const openModal = id => {\n    setShowModal(true);\n    setCarId(id);\n  };\n\n  return (\n    <>\n      <div className={css.divTitle}>\n        <h1 className={css.favTitle}>Favorites</h1>\n      </div>\n      {status === 'fullfield' ? (\n        <ul className={css.cardList}>\n          {favCards &&\n            favCards.map(favCard => (\n              <AdvertCard\n                advert={favCard}\n                key={favCard.id}\n                openModal={openModal}\n                isChanged={() => setLikeChanged(prev => !prev)}\n              />\n            ))}\n        </ul>\n      ) : (\n        <div className={css.margin}>\n          <ul className={css.container}>\n            <li></li>\n            <li></li>\n            <li></li>\n            <li></li>\n            <li></li>\n            <li></li>\n            <li></li>\n            <li></li>\n          </ul>\n        </div>\n      )}\n      {favCards && favCards.length === 0 && (\n        <div className={css.divTitle}>\n          <p className={css.favTitle}>You don't have favorite cards yet</p>\n        </div>\n      )}\n      {showModal && (\n        <Modal onClose={() => setShowModal(prev => !prev)} active={showModal}>\n          <ModalCard\n            id={carId}\n            closeModal={() => setShowModal(prev => !prev)}\n          />\n        </Modal>\n      )}\n      {showLoadMore && favCards?.length > 7 && (\n        <div className={css.btnContainer}>\n          <button\n            className=\"button-secondary\"\n            onClick={() => setPage(prev => prev + 1)}\n          >\n            Load more\n          </button>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":["FavoritesPage","useState","favCards","setFavCards","showModal","setShowModal","page","setPage","showLoadMore","setShowLoadrMore","carId","setCarId","likeChangd","setLikeChanged","status","setStatus","useEffect","API","res","response","prev","length","openModal","id","className","css","map","favCard","AdvertCard","advert","isChanged","Modal","onClose","active","ModalCard","closeModal","onClick"],"sourceRoot":""}